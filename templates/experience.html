{% extends "base.html" %}
{% block content %}

<h2 class="fw-bold text-primary mb-4 text-center">Experience</h2>

{% if is_admin %}
<a href="{{ url_for('add_experience') }}" class="btn btn-success mb-3">
    <i class="bi bi-plus-circle me-1"></i> Add Experience
    </a>
{% endif %}

{% for exp in data %}
<div class="card mb-4 experience-card">
    <div class="card-body">

        <!-- Role -->
        <h5 class="fw-bold mb-1">
            <i class="bi bi-briefcase-fill text-primary me-2"></i>
            {{ exp.role }}
        </h5>

        <!-- Organization -->
        <p class="mb-1 text-muted">
            <i class="bi bi-building me-2"></i>
            {{ exp.organisation }}
        </p>

        <!-- Duration -->
        <small class="text-muted d-block mb-2">
            <i class="bi bi-calendar-event me-2"></i>
            {{ exp.duration }}
        </small>

        <!-- Description -->
        <p class="mt-2">
            {{ exp.description }}
        </p>

        {% if is_admin %}
        <a href="{{ url_for('edit_experience', id=exp.id) }}" class="btn btn-warning btn-sm me-2">
            <i class="bi bi-pencil-square"></i> Edit</a><a href=""></a>
        <form method="POST"
              action="{{ url_for('delete_experience', id=exp.id) }}"
              style="display:inline;">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <button type="submit"
                    class="btn btn-sm btn-danger"
                    onclick="return confirm('Delete this experience item?');">
                <i class="bi bi-trash"></i> Delete
            </button>
        </form>
        {% endif %}

    </div>
</div>
{% endfor %}

{% endblock %}
